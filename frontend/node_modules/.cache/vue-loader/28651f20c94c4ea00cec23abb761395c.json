{"remainingRequest":"/home/bitai/sw/Lecture/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/bitai/sw/Lecture/frontend/src/components/PageLink.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/bitai/sw/Lecture/frontend/src/components/PageLink.vue","mtime":1600654171953},{"path":"/home/bitai/sw/Lecture/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bitai/sw/Lecture/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/bitai/sw/Lecture/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bitai/sw/Lecture/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwIGZyb20gJ0AvdXRpbC9odHRwLWNvbW1vbicKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncm93JywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvdGFsTGlzdEl0ZW1Db3VudDogMCwKICAgICAgbGlzdFJvd0NvdW50OiAxMCwKICAgICAgcGFnZUxpbmtDb3VudDogMTAsCiAgICAgIGN1cnJlbnRQYWdlSW5kZXg6IDEsCgogICAgICBwYWdlQ291bnQ6IDAsCiAgICAgIHN0YXJ0UGFnZUluZGV4OiAwLAogICAgICBlbmRQYWdlSW5kZXg6IDAsCiAgICAgIHByZXY6IGZhbHNlLAogICAgICBuZXh0OiBmYWxzZQoKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG1vdmVQYWdlIChwYXJhbSkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlSW5kZXggPSBwYXJhbQogICAgICB0aGlzLmluaXRDb21wb25lbnQoKQogICAgfSwKCiAgICBpbml0Q29tcG9uZW50ICgpIHsKICAgICAgaHR0cAogICAgICAgIC5nZXQoJy9ib2FyZC9wYWdlbGluay9jb3VudCcpCiAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICB0aGlzLnRvdGFsTGlzdEl0ZW1Db3VudCA9IGRhdGEKICAgICAgICAgIHRoaXMuaW5pdFVJKCkKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICBhbGVydCgn7JeQ65+s6rCAIOuwnOyDne2WiOyKteuLiOuLpC4nKQogICAgICAgIH0pCiAgICB9LAogICAgaW5pdFVJICgpIHsKICAgICAgdGhpcy5wYWdlQ291bnQgPSBNYXRoLmNlaWwodGhpcy50b3RhbExpc3RJdGVtQ291bnQgLyB0aGlzLmxpc3RSb3dDb3VudCkKCiAgICAgIGlmICgodGhpcy5jdXJyZW50UGFnZUluZGV4ICUgdGhpcy5wYWdlTGlua0NvdW50KSA9PT0gMCkgewogICAgICAgIHRoaXMuc3RhcnRQYWdlSW5kZXggPSAoKHRoaXMuY3VycmVudFBhZ2VJbmRleCAvIHRoaXMucGFnZUxpbmtDb3VudCkgLSAxKSAqIHRoaXMucGFnZUxpbmtDb3VudCArIDEKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN0YXJ0UGFnZUluZGV4ID0gTWF0aC5mbG9vcih0aGlzLmN1cnJlbnRQYWdlSW5kZXggLyB0aGlzLnBhZ2VMaW5rQ291bnQpICogdGhpcy5wYWdlTGlua0NvdW50ICsgMQogICAgICB9CgogICAgICBpZiAoKHRoaXMuY3VycmVudFBhZ2VJbmRleCAlIHRoaXMucGFnZUxpbmtDb3VudCkgPT09IDApIHsKICAgICAgICB0aGlzLmVuZFBhZ2VJbmRleCA9ICgodGhpcy5jdXJyZW50UGFnZUluZGV4IC8gdGhpcy5wYWdlTGlua0NvdW50KSAtIDEpICogdGhpcy5wYWdlTGlua0NvdW50ICsgdGhpcy5wYWdlTGlua0NvdW50CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbmRQYWdlSW5kZXggPSBNYXRoLmZsb29yKHRoaXMuY3VycmVudFBhZ2VJbmRleCAvIHRoaXMucGFnZUxpbmtDb3VudCkgKiB0aGlzLnBhZ2VMaW5rQ291bnQgKyB0aGlzLnBhZ2VMaW5rQ291bnQKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZW5kUGFnZUluZGV4ID4gdGhpcy5wYWdlQ291bnQpIHsKICAgICAgICB0aGlzLmVuZFBhZ2VJbmRleCA9IHRoaXMucGFnZUNvdW50CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggPD0gdGhpcy5wYWdlTGlua0NvdW50KSB7CiAgICAgICAgdGhpcy5wcmV2ID0gZmFsc2UKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByZXYgPSB0cnVlCiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVuZFBhZ2VJbmRleCA+PSB0aGlzLnBhZ2VDb3VudCkgewogICAgICAgIHRoaXMuZW5kUGFnZUluZGV4ID0gdGhpcy5wYWdlQ291bnQKICAgICAgICB0aGlzLm5leHQgPSBmYWxzZQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubmV4dCA9IHRydWUKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGN1cnJlbnRQYWdlSW5kZXg6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5pbml0VUkgKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0Q29tcG9uZW50KCk7CiAgfSwKICBtb3VudGVkKCl7CiAgICB0aGlzLiRyb3V0ZXIucHVzaCgnbGlzdD9ubz0nICsgdGhpcy5saXN0Um93Q291bnQpCiAgfQp9Owo="},{"version":3,"sources":["PageLink.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PageLink.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <ul class=\"pagination justify-content-center\">\n\n    <li class=\"page-item\" v-if=\"prev\">\n      <router-link :to=\"`/list?no=${ (startPageIndex - 1) * listRowCount }`\" class=\"page-link\" aria-label=\"Previous\" @click.native=\"movePage(startPageIndex - 1)\">\n        <span aria-hidden=\"true\">&laquo;</span>\n      </router-link>\n    </li>\n\n    <li v-for=\"index in endPageIndex-startPageIndex + 1 \" :key=\"index\" class=\"page-item\" :class=\"{active:( (startPageIndex + index - 1) == currentPageIndex)}\">\n      <router-link :to=\"`/list?no=${ (startPageIndex + index - 1) * listRowCount }`\" class=\"page-link\"  @click.native=\"movePage(startPageIndex + index - 1)\">{{ startPageIndex + index - 1 }}</router-link>\n      <!-- <a class=\"page-link\" href=\"javascript:movePage(' + i + ')\">' + i + '</a> -->\n    </li>\n\n    <li class=\"page-item\" v-if=\"next\">\n      <router-link :to=\"`/list?no=${ (endPageIndex + 1) * listRowCount }`\" class=\"page-link\" aria-label=\"Next\"  @click.native=\"movePage(endPageIndex + 1)\">\n        <span aria-hidden=\"true\">&raquo;</span>\n      </router-link>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport http from '@/util/http-common'\n\nexport default {\n  name: 'row',\n  data () {\n    return {\n      totalListItemCount: 0,\n      listRowCount: 10,\n      pageLinkCount: 10,\n      currentPageIndex: 1,\n\n      pageCount: 0,\n      startPageIndex: 0,\n      endPageIndex: 0,\n      prev: false,\n      next: false\n\n    }\n  },\n  methods: {\n    movePage (param) {\n      this.currentPageIndex = param\n      this.initComponent()\n    },\n\n    initComponent () {\n      http\n        .get('/board/pagelink/count')\n        .then(({ data }) => {\n          this.totalListItemCount = data\n          this.initUI()\n        })\n        .catch(() => {\n          alert('에러가 발생했습니다.')\n        })\n    },\n    initUI () {\n      this.pageCount = Math.ceil(this.totalListItemCount / this.listRowCount)\n\n      if ((this.currentPageIndex % this.pageLinkCount) === 0) {\n        this.startPageIndex = ((this.currentPageIndex / this.pageLinkCount) - 1) * this.pageLinkCount + 1\n      } else {\n        this.startPageIndex = Math.floor(this.currentPageIndex / this.pageLinkCount) * this.pageLinkCount + 1\n      }\n\n      if ((this.currentPageIndex % this.pageLinkCount) === 0) {\n        this.endPageIndex = ((this.currentPageIndex / this.pageLinkCount) - 1) * this.pageLinkCount + this.pageLinkCount\n      } else {\n        this.endPageIndex = Math.floor(this.currentPageIndex / this.pageLinkCount) * this.pageLinkCount + this.pageLinkCount\n      }\n\n      if (this.endPageIndex > this.pageCount) {\n        this.endPageIndex = this.pageCount\n      }\n\n      if (this.currentPageIndex <= this.pageLinkCount) {\n        this.prev = false\n      } else {\n        this.prev = true\n      }\n\n      if (this.endPageIndex >= this.pageCount) {\n        this.endPageIndex = this.pageCount\n        this.next = false\n      } else {\n        this.next = true\n      }\n    }\n  },\n  watch: {\n    currentPageIndex: function () {\n      this.initUI ();\n    }\n  },\n  created() {\n    this.initComponent();\n  },\n  mounted(){\n    this.$router.push('list?no=' + this.listRowCount)\n  }\n};\n</script>\n"]}]}